{"version":3,"file":"2-form.js","sources":["../src/js/2-form.js"],"sourcesContent":["let initialState = { email: '', message: '' };\nlet formData = { ...initialState };\nconst FORM_DATA_STORAGE_KEY = 'feedback-form-state';\n\nconst refs = {\n  form: document.querySelector('.feedback-form'),\n};\n\nconst handleChange = ({ target: { name, value } }) => {\n  formData[name] = value.trim();\n\n  localStorage.setItem(FORM_DATA_STORAGE_KEY, JSON.stringify(formData));\n};\n\nconst handleSubmit = e => {\n  e.preventDefault();\n\n  if (!formData.email || !formData.message) {\n    alert('All fields must be filled in!');\n\n    return;\n  }\n\n  console.log(formData);\n\n  formData = { ...initialState };\n  localStorage.removeItem(FORM_DATA_STORAGE_KEY);\n  refs.form.reset();\n};\n\nconst handleFillingForm = form => {\n  const data = localStorage.getItem(FORM_DATA_STORAGE_KEY);\n\n  if (data == null) return;\n\n  formData = JSON.parse(data);\n\n  const formDataKeys = Object.keys(formData);\n\n  for (const key of formDataKeys) {\n    form.elements[key].value = formData[key];\n  }\n};\n\nhandleFillingForm(refs.form);\n\nrefs.form.addEventListener('input', handleChange);\nrefs.form.addEventListener('submit', handleSubmit);\n"],"names":["initialState","formData","FORM_DATA_STORAGE_KEY","refs","handleChange","name","value","handleSubmit","e","handleFillingForm","form","data","formDataKeys","key"],"mappings":"wFAAA,IAAIA,EAAe,CAAE,MAAO,GAAI,QAAS,EAAE,EACvCC,EAAW,CAAE,GAAGD,GACpB,MAAME,EAAwB,sBAExBC,EAAO,CACX,KAAM,SAAS,cAAc,gBAAgB,CAC/C,EAEMC,EAAe,CAAC,CAAE,OAAQ,CAAE,KAAAC,EAAM,MAAAC,CAAO,CAAA,IAAO,CACpDL,EAASI,CAAI,EAAIC,EAAM,KAAI,EAE3B,aAAa,QAAQJ,EAAuB,KAAK,UAAUD,CAAQ,CAAC,CACtE,EAEMM,EAAeC,GAAK,CAGxB,GAFAA,EAAE,eAAc,EAEZ,CAACP,EAAS,OAAS,CAACA,EAAS,QAAS,CACxC,MAAM,+BAA+B,EAErC,MACD,CAED,QAAQ,IAAIA,CAAQ,EAEpBA,EAAW,CAAE,GAAGD,GAChB,aAAa,WAAWE,CAAqB,EAC7CC,EAAK,KAAK,OACZ,EAEMM,EAAoBC,GAAQ,CAChC,MAAMC,EAAO,aAAa,QAAQT,CAAqB,EAEvD,GAAIS,GAAQ,KAAM,OAElBV,EAAW,KAAK,MAAMU,CAAI,EAE1B,MAAMC,EAAe,OAAO,KAAKX,CAAQ,EAEzC,UAAWY,KAAOD,EAChBF,EAAK,SAASG,CAAG,EAAE,MAAQZ,EAASY,CAAG,CAE3C,EAEAJ,EAAkBN,EAAK,IAAI,EAE3BA,EAAK,KAAK,iBAAiB,QAASC,CAAY,EAChDD,EAAK,KAAK,iBAAiB,SAAUI,CAAY"}